<?xml version="1.0" ?>

<container xmlns="http://symfony.com/schema/dic/services"
           xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xsi:schemaLocation="http://symfony.com/schema/dic/services http://symfony.com/schema/dic/services/services-1.0.xsd">

    <parameters>
        <parameter key="gsa.server_address">gsa1.01net.com</parameter>
        <parameter key="gsa.server_port"></parameter>
        <parameter key="gsa.request.class">BackBuilder\Bundle\GSABundle\Model\Request</parameter>
        <parameter key="gsa.default_parameters" type="collection">
            <parameter key="client">default_frontend</parameter>
            <!-- DEFAUTL JSON : <parameter key="client">json</parameter>
            <parameter key="proxystylesheet">json</parameter>-->
            <parameter key="output">xml_no_dtd</parameter>
            <parameter key="site">default_collection</parameter>
            <parameter key="start">0</parameter>
            <parameter key="num">10</parameter>
            <parameter key="getfields">*</parameter>
            <parameter key="requiredfields">typology</parameter>
            <parameter key="rc">1</parameter>
            <parameter key="filter">0</parameter>
        </parameter>
        <parameter key="gsa.js_cluster_scripts" type="collection">
            <parameter>http://%gsa.server_address%/uri.js</parameter>
            <parameter>http://%gsa.server_address%/common.js</parameter>
            <parameter>http://%gsa.server_address%/xmlhttp.js</parameter>
            <parameter>http://%gsa.server_address%/cluster.js</parameter>
        </parameter>
    </parameters>
    
    <services>
        <service id="gsa.request"
                 class="%gsa.request.class%"
                 scope="prototype"
                 >
            <argument type="service" id="guzzle.http_client"></argument>
            <argument>%gsa.server_address%</argument>
            <argument>%gsa.server_port%</argument>
            <argument>%gsa.default_parameters%</argument>
        </service>
        <service id="guzzle.http_client"
                 class="Guzzle\Http\Client"
                 scope="prototype">
        </service>
    </services>
</container>
